
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  
  <!-- Licensed under the Apache 2.0 License -->
  <link rel="stylesheet" type="text/css" href="../../_static/fonts/open-sans/stylesheet.css" />
  <!-- Licensed under the SIL Open Font License -->
  <link rel="stylesheet" type="text/css" href="../../_static/fonts/source-serif-pro/source-serif-pro.css" />
  <link rel="stylesheet" type="text/css" href="../../_static/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="../../_static/css/bootstrap-theme.min.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <title>Navigating a CGNS File &#8212; CGNS Official Web Site</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/guzzle.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/filemap.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/math_override.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/midlevel.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/CGNS_empty.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Error Handling" href="CGNS_MLL_error.html" />
    <link rel="prev" title="File Operations" href="CGNS_MLL_fileops.html" />
  
  <link rel="apple-touch-icon" href="../../_static/CGNS_empty.svg" />
  
   

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="CGNS_MLL_error.html" title="Error Handling"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="CGNS_MLL_fileops.html" title="File Operations"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">CGNS Official Web Site</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../standard.html" >Standard Specification</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="CGNS_MLL.html" accesskey="U">CGNS/MLL - An API for C and Fortran applications</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Navigating a CGNS File</a></li> 
      </ul>
    </div>
    <div class="container-wrapper">

      <div id="mobile-toggle">
        <a href="#"><span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span></a>
      </div>
  <div id="left-column">
    <div class="sphinxsidebar">
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <div id="main-search">
      <form class="form-inline" action="../../search.html" method="GET" role="form">
        <div class="input-group">
          <input name="q" type="text" class="form-control" placeholder="Search...">
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div>
      
    </div>
  </div>
        <div id="right-column">
          
          <div role="navigation" aria-label="breadcrumbs navigation">
            <ol class="breadcrumb">
              <li><a href="../../index.html">Docs</a></li>
              
                <li><a href="../../standard.html">Standard Specification</a></li>
              
                <li><a href="CGNS_MLL.html">CGNS/MLL - An API for C and Fortran applications</a></li>
              
              <li>Navigating a CGNS File</li>
            </ol>
          </div>
          
          <div class="document clearer body">
            
  <section id="navigating-a-cgns-file">
<span id="mllnavigating"></span><h1>Navigating a CGNS File<a class="headerlink" href="#navigating-a-cgns-file" title="Permalink to this headline">Â¶</a></h1>
<!-- CGNS Mid-Level Library - Navigating a CGNS File -->

<html>
<head>
<meta http-equiv="Content-Style-Type" content="text/css">
<title> CGNS Mid-Level Library - Navigating a CGNS File </title>
</head>

<h2>Navigating a CGNS File</h2>

<ul>
<li> <a href="#goto">Accessing a Node</a>
     <ul>
     <li> <tt><b>cg_goto</b></tt> - Access a node via label/name, index pairs
     <li> <tt><b>cg_gorel</b></tt> - Access a node via relative path
     <li> <tt><b>cg_gopath</b></tt> - Access a node via pathname
     <li> <tt><b>cg_golist</b></tt> - Access a node via arrays of labels and indices
     <li> <tt><b>cg_where</b></tt> - Get path to current node
     </ul>
<li> <a href="#delete">Deleting a Node</a>
     <ul>
     <li> <tt><b>cg_delete_node</b></tt> - Delete a node
     </ul>
</ul>

<a name="goto"></a>
<h3>Accessing a Node</h3>

<br>
<table width=100% cellspacing=0 cellpadding=5 border rules=groups
       bgcolor="#f5f5f0">
<colgroup width=90%>
<colgroup>
<thead>
<tr><th align=left scope=col width=90%>Functions
    <th scope=col>Modes
<tbody>
<tr><td nowrap>
        <tt><b><span class=out><i>ier</i></span> = cg_goto(<span class=in>int fn</span>, <span class=in>int B</span>, <span class=in>...</span>, <span class=in>"end"</span>);</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tr><td nowrap>
        <tt><b><span class=out><i>ier</i></span> = cg_gorel(<span class=in>int fn</span>, <span class=in>...</span>, <span class=in>"end"</span>);</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tr><td nowrap>
        <tt><b><span class=out><i>ier</i></span> = cg_gopath(<span class=in>int fn</span>, <span class=in>const char *path</span>);</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tr><td nowrap>
        <tt><b><span class=out><i>ier</i></span> = cg_golist(<span class=in>int fn</span>, <span class=in>int B</span>, <span class=in>int depth</span>, <span class=in>char **label</span>, <span class=in>int *index</span>);</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tr><td nowrap>
        <tt><b><span class=out><i>ier</i></span> = cg_where(<span class=out>int *fn</span>, <span class=out>int *B</span>, <span class=out><i>int *depth</i></span>, <span class=out><i>char **label</i></span>, <span class=out><i>int *index</i></span>);</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tbody>
<tr><td nowrap>
        <tt><b>call <span class=cgf>cg_goto_f</span>(<span class=in>fn</span>, <span class=in>B</span>, <span class=out><i>ier</i></span>, <span class=in>...</span>, <span class=in>'end'</span>)</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tr><td nowrap>
        <tt><b>call <span class=cgf>cg_gorel_f</span>(<span class=in>fn</span>, <span class=out><i>ier</i></span>, <span class=in>...</span>, <span class=in>'end'</span>)</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tr><td nowrap>
        <tt><b>call cg_gopath_f(<span class=in>fn</span>, <span class=in>path</span>, <span class=out><i>ier</i></span>)</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
</table>

<br>
<b><span class=in>Input</span>/<span class=out><i>Output</i></span></b>

<br><br>
<table cellspacing=0 cellpadding=0 noborder>
<tr valign=baseline><td><tt>&nbsp;&nbsp;&nbsp;</tt>
   <td><tt>fn</tt><td><tt>&nbsp;&nbsp;</tt>
   <td>CGNS file index number.
<br><br>
<tr valign=baseline><td>
   <td><tt>B</tt><td>
   <td>Base index number, where 1 &le; <tt>B</tt> &le; <tt>nbases</tt>.
<br><br>
<tr valign=baseline><td>
   <td><tt>...</tt><td>
   <td>Variable argument list used to specify the path to a node.
       It is composed of an unlimited list of pair-arguments identifying
       each node in the path.
       Nodes may be identified by their label or name.
       Thus, a pair-argument may be of the form
<pre>
   "CGNS_NodeLabel", <i>NodeIndex</i>
</pre>
       where <tt>CGNS_NodeLabel</tt> is the node label and
       <i>NodeIndex</i> is the node index, or
<pre>
   "CGNS_NodeName", 0
</pre>
       where <tt>CGNS_NodeName</tt> is the node name.
       The 0 in the second form is required, to indicate that a node
       name is being specified rather than a node label.
       In addition, a pair-argument may be specified as
<pre>
   "..", 0
</pre>
       indicating the parent of the current node.
       The different pair-argument forms may be intermixed in the same
       function call.
       <p>
       There is one exception to this rule.
       When accessing a <tt>BCData_t</tt> node, the index must be set to
       either <tt>Dirichlet</tt> or <tt>Neumann</tt> since only these
       two types are allowed.
       (Note that <tt>Dirichlet</tt> and <tt>Neumann</tt> are defined in
       the include files <i>cgnslib.h</i> and <i>cgnslib_f.h</i>).
       Since "<tt>Dirichlet</tt>" and "<tt>Neuman</tt>" are also the
       names for these nodes, you may also use the <tt>"Dirichlet", 0</tt>
       or <tt>"Neuman", 0</tt> to access the node.
       See the example below.
<br><br>
<tr valign=baseline><td>
   <td><tt>end</tt><td>
   <td>The character string <tt>"end"</tt> (or <tt>'end'</tt> for the Fortran
       function) must be the last argument.
       It is used to indicate the end of the argument list.
       You may also use the empty string, <tt>""</tt> (<tt>''</tt> for
       Fortran), or the <tt>NULL</tt> string in C, to terminate the
       list.
<br><br>
<tr valign=baseline><td>
   <td><tt>path</tt><td>
   <td>The pathname for the node to go to.
       If a position has been already set, this may be a relative
       path, otherwise it is an absolute path name, starting with
       <tt>"/Basename"</tt>, where <tt>Basename</tt> is the base under
       which you wish to move.
<br><br>
<tr valign=baseline><td>
   <td><tt>depth</tt><td>
   <td>Depth of the path list.
       The maximum depth is defined in <i>cgnslib.h</i> by
       <tt>CG_MAX_GOTO_DEPTH</tt>, and is currently equal to 20.
<br><br>
<tr valign=baseline><td>
   <td><tt>label</tt><td>
   <td>Array of node labels for the path.
       This argument may be passed as <tt>NULL</tt> to
       <tt>cg_where()</tt>, otherwise it must be dimensioned by the
       calling program.
       The maximum size required is <tt>label[MAX_GO_TO_DEPTH][33]</tt>.
       You may call <tt>cg_where()</tt> with both <tt>label</tt> and
       <tt>index</tt> set to <tt>NULL</tt> in order to get the current
       depth, then dimension to that value.
<br><br>
<tr valign=baseline><td>
   <td><tt>index</tt><td>
   <td>Array of node indices for the path.
       This argument may be passed as <tt>NULL</tt> to
       <tt>cg_where()</tt>, otherwise it must be dimensioned by the
       calling program.
       The maximum size required is <tt>index[MAX_GO_TO_DEPTH]</tt>.
       You may call <tt>cg_where()</tt> with both <tt>label</tt> and
       <tt>index</tt> set to <tt>NULL</tt> in order to get the current
       depth, then dimension to that value.
<br><br>
<tr valign=baseline><td>
   <td><tt>ier</tt><td>
   <td>Error status.
       The possible values, with the corresponding C names (or Fortran
       parameters) defined in <i>cgnslib.h</i> (or <i>cgnslib_f.h</i>)
       are listed below.<br><br>
       <table cellspacing=0 cellpadding=0 noborder>
       <tr valign=baseline><td><tt>&nbsp;&nbsp;&nbsp;</tt></td>
          <th scope=col>Value</td><td><tt>&nbsp;&nbsp;</tt></td>
          <th align=left scope=col>Name/Parameter</td>
       <tr valign=baseline><td></td>
          <td align=center>0</td><td></td>
          <td><tt>CG_OK</tt></td>
       <tr valign=baseline><td></td>
          <td align=center>1</td><td></td>
          <td><tt>CG_ERROR</tt></td>
       <tr valign=baseline><td></td>
          <td align=center>2</td><td></td>
          <td><tt>CG_NODE_NOT_FOUND</tt></td>
       <tr valign=baseline><td></td>
          <td align=center>3</td><td></td>
          <td><tt>CG_INCORRECT_PATH</tt></td>
       </table><br>
       For non-zero values, an error message may be printed using
       <a href="error.html"><tt>cg_error_print()</tt></a>.
</table>

<p>
This function allows access to any parent-type nodes in a CGNS file.
A parent-type node is one that can have children.
Nodes that cannot have children, like <tt>Descriptor_t</tt>, are
not supported by this function.

<p>
To illustrate the use of the above routines, assume you have a file with
CGNS index number <tt>filenum</tt>, a base node named <tt>Base</tt>
with index number <tt>basenum</tt>, 2 zones (named <tt>Zone1</tt>
and <tt>Zone2</tt>, with indices 1 and 2), and user-defined data
(<tt>User</tt>, index 1) below each zone.
To move to the user-defined data node under zone 1, you may use any of
the following:
<pre>
   cg_goto(filenum, basenum, "Zone_t", 1, "UserDefinedData_t", 1, NULL);
   cg_goto(filenum, basenum "Zone1", 0, "UserDefinedData_t", 1, NULL);
   cg_goto(filenum, basenum, "Zone_t", 1, "User", 0, NULL);
   cg_goto(filenum, basenum, "Zone1", 0, "User", 0, NULL);
   cg_gopath(filenum, "/Base/Zone1/User");
</pre>
Now, to change to the user-defined data node under zone 2, you may use
the full path specification as above, or else a relative path, using one
of the following:
<pre>
   cg_gorel(filenum, "..", 0, "..", 0, "Zone_t", 2, "UserDefinedData_t", 1, NULL);
   cg_gorel(filenum, "..", 0, "..", 0, "Zone2", 0, "UserDefinedData_t", 1, NULL);
   cg_gorel(filenum, "..", 0, "..", 0, "Zone_t", 2, "User", 0, NULL);
   cg_gorel(filenum, "..", 0, "..", 0, "Zone2", 0, "User", 0, NULL);
   cg_gopath(filenum, "../../Zone2/User");
</pre>

<p>
Shown below are some additional examples of various uses of these
routines, in both C and Fortran, where <tt>fn</tt>, <tt>B</tt>,
<tt>Z</tt>, etc., are index numbers.
<pre>
   ier = cg_goto(fn, B, "Zone_t", Z, "FlowSolution_t", F, "..", 0, "MySolution", 0, "end");

   ier = cg_gorel(fn, "..", 0, "FlowSolution_t", F, NULL);

   ier = cg_gopath(fn, "/MyBase/MyZone/MySolution");

   ier = cg_gopath(fn, "../../MyZoneBC");

   call cg_goto_f(fn, B, ier, 'Zone_t', Z, 'GasModel_t', 1, 'DataArray_t', A, 'end')

   call cg_goto_f(fn, B, ier, 'Zone_t', Z, 'ZoneBC_t', 1, 'BC_t', BC, 'BCDataSet_t', S,
                  'BCData_t', Dirichlet, 'end')

   call cg_gorel_f(fn, ier, '..', 0, 'Neumann', 0, '')

   call cg_gopath_f(fn, '../../MyZoneBC', ier)
</pre>

<a name="delete"></a>
<h3>Deleting a Node</h3>

<br>
<table width=100% cellspacing=0 cellpadding=5 border rules=groups
       bgcolor="#f5f5f0">
<colgroup width=90%>
<colgroup>
<thead>
<tr><th align=left scope=col width=90%>Functions
    <th scope=col>Modes
<tbody>
<tr><td nowrap>
        <tt><b><span class=out><i>ier</i></span> = cg_delete_node(<span class=in>char *NodeName</span>);</b></tt>
    <td align=center valign=baseline>
        <tt><b>-&nbsp;-&nbsp;m</b></tt>
<tbody>
<tr><td nowrap>
        <tt><b>call cg_delete_node_f(<span class=in>NodeName</span>, <span class=out><i>ier</i></span>)</b></tt>
    <td align=center valign=baseline>
        <tt><b>-&nbsp;-&nbsp;m</b></tt>
</table>

<br>
<b><span class=in>Input</span>/<span class=out><i>Output</i></span></b>

<br><br>
<table cellspacing=0 cellpadding=0 noborder>
<tr valign=baseline><td><tt>&nbsp;&nbsp;&nbsp;</tt>
   <td><tt>NodeName</tt><td><tt>&nbsp;&nbsp;</tt>
   <td>Name of the child to be deleted.
<tr valign=baseline><td>
   <td><tt>ier</tt><td>
   <td>Error status.
</table>

<p>
The function <tt>cg_delete_node</tt> is used is conjunction with
<a href="#goto"><tt>cg_goto</tt></a>.
Once positioned at a parent node with <tt>cg_goto</tt>, a child of
this node can be deleted with <tt>cg_delete_node</tt>.
This function requires a single argument, <tt>NodeName</tt>, which is
the name of the child to be deleted.

<p>
Since the highest level that can be pointed to with <tt>cg_goto</tt> is
a base node for a CGNS database
(<a href="../sids/cgnsbase.html#CGNSBase"><tt>CGNSBase_t</tt></a>), the
highest-level nodes that can be deleted are the children of a
<tt>CGNSBase_t</tt> node.
In other words, nodes located directly under the ADF (or HDF) root node
(<a href="../sids/cgnsbase.html#CGNSBase"><tt>CGNSBase_t</tt></a> and
<a href="../sids/cgnsbase.html#CGNSLibraryVersion"><tt>CGNSLibraryVersion_t</tt></a>)
can not be deleted with <tt>cg_delete</tt>.

<p>
A few other nodes are not allowed to be deleted from the database
because these are required nodes as defined by the SIDS, and deleting
them would make the file non-CGNS compliant.
These are:
<ul>
<li> Under <a href="../sids/cgnsbase.html#Zone"><tt>Zone_t</tt></a>:
     <tt>ZoneType</tt> 
<li> Under <a href="../sids/cnct.html#GridConnectivity1to1"><tt>GridConnectivity1to1_t</tt></a>:
     <tt>PointRange, PointRangeDonor, Transform</tt>
<li> Under <a href="../sids/cnct.html#OversetHoles"><tt>OversetHoles_t</tt></a>:
     <tt>PointList</tt> and any <tt>IndexRange_t</tt>
<li> Under <a href="../sids/cnct.html#GridConnectivity"><tt>GridConnectivity_t</tt></a>:
     <tt>PointRange, PointList, CellListDonor, PointListDonor</tt>
<li> Under <a href="../sids/bc.html#BC"><tt>BC_t</tt></a>:
     <tt>PointList, PointRange</tt>
<li> Under <a href="../sids/misc.html#GeometryReference"><tt>GeometryReference_t</tt></a>:
     <tt>GeometryFile, GeometryFormat</tt>
<li> Under <a href="../sids/gridflow.html#Elements"><tt>Elements_t</tt></a>:
     <tt>ElementRange, ElementConnectivity</tt>
<li> Under <a href="../sids/misc.html#Gravity"><tt>Gravity_t</tt></a>:
     <tt>GravityVector</tt>
<li> Under <a href="../sids/gridflow.html#Axisymmetry"><tt>Axisymmetry_t</tt></a>:
     <tt>AxisymmetryReferencePoint, AxisymmetryAxisVector</tt>
<li> Under <a href="../sids/gridflow.html#RotatingCoordinates"><tt>RotatingCoordinates_t</tt></a>:
     <tt>RotationCenter, RotationRateVector</tt>
<li> Under <a href="../sids/cnct.html#Periodic"><tt>Periodic_t</tt></a>:
     <tt>RotationCenter, RotationAngle, Translation</tt>
<li> Under <a href="../sids/cnct.html#AverageInterface"><tt>AverageInterface_t</tt></a>:
     <tt>AverageInterfaceType</tt>
<li> Under <a href="../sids/bc.html#WallFunction"><tt>WallFunction_t</tt></a>:
     <tt>WallFunctionType</tt>
<li> Under <a href="../sids/bc.html#Area"><tt>Area_t</tt></a>:
     <tt>AreaType, SurfaceArea, RegionName</tt>
</ul>

<p>
When a child node is deleted, both the database and the file on disk are
updated to remove the node.
One must be careful not to delete a node from within a loop of that node
type.
For example, if the number of zones below a <tt>CGNSBase_t</tt> node is
<tt>nzones</tt>, a zone should never be deleted from within a zone loop!
By deleting a zone, the total number of zones (<tt>nzones</tt>) changes,
as well as the zone indexing.
Suppose for example that <tt>nzones</tt> is 5, and that the third zone
is deleted.
After calling <tt>cg_delete_node</tt>, <tt>nzones</tt> is changed to 4,
and the zones originally indexed 4 and 5 are now indexed 3 and 4.

<p>

</body>
</html>
</section>


          </div>
            
  <div class="footer-relations">
    
      <div class="pull-left">
        <a class="btn btn-default" href="CGNS_MLL_fileops.html" title="previous chapter (use the left arrow)">File Operations</a>
      </div>
    
      <div class="pull-right">
        <a class="btn btn-default" href="CGNS_MLL_error.html" title="next chapter (use the right arrow)">Error Handling</a>
      </div>
    </div>
    <div class="clearer"></div>
  
        </div>
        <div class="clearfix"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="CGNS_MLL_error.html" title="Error Handling"
             >next</a> |</li>
        <li class="right" >
          <a href="CGNS_MLL_fileops.html" title="File Operations"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">CGNS Official Web Site</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../standard.html" >Standard Specification</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="CGNS_MLL.html" >CGNS/MLL - An API for C and Fortran applications</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Navigating a CGNS File</a></li> 
      </ul>
    </div>
<script type="text/javascript">
  $("#mobile-toggle a").click(function () {
    $("#left-column").toggle();
  });
</script>
<script type="text/javascript" src="../../_static/js/bootstrap.js"></script>
  <div class="footer">
    &copy; Copyright 1991-2020, CGNS Steering Commmittee. Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>
  </body>
</html>