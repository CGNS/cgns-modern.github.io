
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <!-- Licensed under the Apache 2.0 License -->
  <link rel="stylesheet" type="text/css" href="../../_static/fonts/open-sans/stylesheet.css" />
  <!-- Licensed under the SIL Open Font License -->
  <link rel="stylesheet" type="text/css" href="../../_static/fonts/source-serif-pro/source-serif-pro.css" />
  <link rel="stylesheet" type="text/css" href="../../_static/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="../../_static/css/bootstrap-theme.min.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <title>File Operations &#8212; CGNS Official Web Site</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/guzzle.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/filemap.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/math_override.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/midlevel.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/CGNS_empty.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Navigating a CGNS File" href="CGNS_MLL_navigating.html" />
    <link rel="prev" title="General Remarks" href="CGNS_MLL_general.html" />
  
  <link rel="apple-touch-icon" href="../../_static/CGNS_empty.svg" />
  
   

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="CGNS_MLL_navigating.html" title="Navigating a CGNS File"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="CGNS_MLL_general.html" title="General Remarks"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">CGNS Official Web Site</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../standard.html" >Standard Specification</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="CGNS_MLL.html" accesskey="U">CGNS/MLL - An API for C and Fortran applications</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">File Operations</a></li> 
      </ul>
    </div>
    <div class="container-wrapper">

      <div id="mobile-toggle">
        <a href="#"><span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span></a>
      </div>
  <div id="left-column">
    <div class="sphinxsidebar">
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <div id="main-search">
      <form class="form-inline" action="../../search.html" method="GET" role="form">
        <div class="input-group">
          <input name="q" type="text" class="form-control" placeholder="Search...">
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div>
      
    </div>
  </div>
        <div id="right-column">
          
          <div role="navigation" aria-label="breadcrumbs navigation">
            <ol class="breadcrumb">
              <li><a href="../../index.html">Docs</a></li>
              
                <li><a href="../../standard.html">Standard Specification</a></li>
              
                <li><a href="CGNS_MLL.html">CGNS/MLL - An API for C and Fortran applications</a></li>
              
              <li>File Operations</li>
            </ol>
          </div>
          
          <div class="document clearer body">
            
  <div class="section" id="file-operations">
<span id="mllfileoperations"></span><h1>File Operations<a class="headerlink" href="#file-operations" title="Permalink to this headline">Â¶</a></h1>
<p>These functions usually are found the the preamble or the epilog of your
application code using the <a class="reference internal" href="../../general/glossary.html#term-CGNS-MLL"><span class="xref std std-term">CGNS/MLL</span></a>.</p>
<!-- CGNS Mid-Level Library - Opening and Closing a CGNS File -->

<html>
<head>
<meta http-equiv="Content-Style-Type" content="text/css">
<title> CGNS Mid-Level Library - Opening and Closing a CGNS File </title>
</head>

<h2>File Operations</h2>

<ul>
<li> <a href="#openclose">Opening and Closing a CGNS File</a>
     <ul>
     <li> <tt><b>cg_open</b></tt> - Open a CGNS file
     </li><li> <tt><b>cg_version</b></tt> - Get CGNS file version
     </li><li> <tt><b>cg_precision</b></tt> - Get CGNS file precision
     </li><li> <tt><b>cg_close</b></tt> - Close a CGNS file
     </li><li> <tt><b>cg_is_cgns</b></tt> - Check for a valid CGNS file
     </li><li> <tt><b>cg_save_as</b></tt> - Save the open CGNS file
     </li><li> <tt><b>cg_set_file_type</b></tt> - Set default file type
     </li><li> <tt><b>cg_get_file_type</b></tt> - Get file type for open CGNS file
     </li></ul>
</li><li> <a href="#configure">Configuring CGNS Internals</a>
     <ul>
     <li> <tt><b>cg_configure</b></tt> - Configure CGNS internals
     <li> <tt><b>cg_error_handler</b></tt> - Set CGNS error handler
     <li> <tt><b>cg_set_compress</b></tt> - Set CGNS compression mode
     <li> <tt><b>cg_get_compress</b></tt> - Get CGNS compression mode
     <li> <tt><b>cg_set_path</b></tt> - Set the CGNS link search path
     <li> <tt><b>cg_add_path</b></tt> - Add to the CGNS link search path
     </li></ul>
</li><li> <a href="#cgiointer">Interfacing with CGIO</a>
     <ul>
     <li> <tt><b>cg_get_cgio</b></tt> - get the CGIO index number
     <li> <tt><b>cg_root_id</b></tt> - get the root node ID
     </li></ul>
</li></ul>

<a name="openclose"></a>
<h3>Opening and Closing a CGNS File</h3>

<table width=100% cellspacing=0 cellpadding=5 border rules=groups
       bgcolor="#f5f5f0">
<colgroup width=90%>
<colgroup>
<thead>
<tr><th align=left scope=col width=90%>Functions
    <th scope=col>Modes
<tbody>
<tr><td nowrap>
        <tt><b><span class=out><i>ier</i></span> = cg_open(<span class=in>char *filename</span>, <span class=in>int mode</span>, <span class=out><i>int *fn</i></span>);</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tr><td nowrap>
        <tt><b><span class=out><i>ier</i></span> = cg_version(<span class=in>int fn</span>, <span class=out><i>float *version</i></span>);</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tr><td nowrap>
        <tt><b><span class=out><i>ier</i></span> = cg_precision(<span class=in>int fn</span>, <span class=out><i>int *precision</i></span>);</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tr><td nowrap>
        <tt><b><span class=out><i>ier</i></span> = cg_close(<span class=in>int fn</span>);</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tr><td nowrap>
        <tt><b><span class=out><i>ier</i></span> = cg_is_cgns(<span class=in>const char *filename</span>, <span class=out><i>int *file_type</i></span>);</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tr><td nowrap>
        <tt><b><span class=out><i>ier</i></span> = cg_save_as(<span class=in>int fn</span>, <span class=in>const char *filename</span>, <span class=in>int file_type</span>, <span class=in>int follow_links</span>);</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tr><td nowrap>
        <tt><b><span class=out><i>ier</i></span> = cg_set_file_type(<span class=in>int file_type</span>);</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tr><td nowrap>
        <tt><b><span class=out><i>ier</i></span> = cg_get_file_type(<span class=in>int fn</span>, <span class=out><i>int *file_type</i></span>);</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tbody>
<tr><td nowrap>
        <tt><b>call cg_open_f(<span class=in>filename</span>, <span class=in>mode</span>, <span class=out><i>fn</i></span>, <span class=out><i>ier</i></span>)</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tr><td nowrap>
        <tt><b>call cg_version_f(<span class=in>fn</span>, <span class=out><i>version</i></span>, <span class=out><i>ier</i></span>)</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tr><td nowrap>
        <tt><b>call cg_precision_f(<span class=in>fn</span>, <span class=out><i>precision</i></span>, <span class=out><i>ier</i></span>)</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tr><td nowrap>
        <tt><b>call cg_close_f(<span class=in>fn</span>, <span class=out><i>ier</i></span>)</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tr><td nowrap>
        <tt><b>call cg_is_cgns_f(<span class=in>filename</span>, <span class=out><i>file_type</i></span>, <span class=out><i>ier</i></span>)</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tr><td nowrap>
        <tt><b>call cg_save_as_f(<span class=in>fn</span>, <span class=in>filename</span>, <span class=in>file_type</span>, <span class=in>follow_links</span>, <span class=out><i>ier</i></span>);</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tr><td nowrap>
        <tt><b>call cg_set_file_type_f(<span class=in>file_type</span>, <span class=out><i>ier</i></span>);</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tr><td nowrap>
        <tt><b>call cg_get_file_type_f(<span class=in>fn</span>, <span class=out><i>file_type</i></span>, <span class=out><i>ier</i></span>);</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
</table>

<br>
<b><span class=in>Input</span>/<span class=out><i>Output</i></span></b>

<br><br>
<table cellspacing=0 cellpadding=0 noborder>
<tr valign=baseline><td><tt>&nbsp;&nbsp;&nbsp;</tt>
   <td><tt>filename</tt><td><tt>&nbsp;&nbsp;</tt>
   <td>Name of the CGNS file, including path name if necessary.
       There is no limit on the length of this character variable.
<tr valign=baseline><td>
   <td><tt>mode</tt><td>
   <td>Mode used for opening the file.
       The modes currently supported are <tt>CG_MODE_READ</tt>,
       <tt>CG_MODE_WRITE</tt>, and <tt>CG_MODE_MODIFY</tt>.
<tr valign=baseline><td>
   <td><tt>fn</tt><td>
   <td>CGNS file index number.
<tr valign=baseline><td>
   <td><tt>version</tt><td>
   <td>CGNS version number.
<tr valign=baseline><td>
   <td><tt>precision</tt><td>
   <td>Precision used to write the CGNS file. The return value will be
       one of 32 (32-bit), 64 (64-bit), or 0 if not known.
<tr valign=baseline><td>
   <td><tt>file_type</tt><td>
   <td>Type of CGNS file. This will typically be either <tt>CG_FILE_ADF</tt>
       or <tt>CG_FILE_HDF5</tt> depending on the underlying file format.
       However, note that when built in 32-bit, there is also an option
       to create a Version 2.5 CGNS file by setting the file type to 
       <tt>CG_FILE_ADF2</tt>.
<tr valign=baseline><td>
   <td><tt>follow_links</tt><td>
   <td>This flag determines whether links are left intact when saving
       a CGNS file. If non-zero, then the links will be removed and the
       data associated with the linked files copied to the new file.
<tr valign=baseline><td>
   <td><tt>ier</tt><td>
   <td>Error status.
</table>

<p>
The function <tt>cg_open</tt> must always be the first one called.
It opens a CGNS file for reading and/or writing and returns an index
number <tt>fn</tt>.
The index number serves to identify the CGNS file in subsequent
function calls.
Several CGNS files can be opened simultaneously.
The current limit on the number of files opened at once depends on the
platform.
On an SGI workstation, this limit is set at 100 (parameter
<tt>FOPEN_MAX</tt> in <i>stdio.h</i>).

<p>
The file can be opened in one of the following modes:

<br><br>
<table cellspacing=0 cellpadding=0 noborder>
<tr valign=baseline><td><tt>&nbsp;&nbsp;&nbsp;</tt>
   <td><tt>CG_MODE_READ</tt><td><tt>&nbsp;&nbsp;</tt>
   <td>Read only mode.
<tr valign=baseline><td>
   <td><tt>CG_MODE_WRITE</tt><td>
   <td>Write only mode.
<tr valign=baseline><td>
   <td><tt>CG_MODE_MODIFY</tt><td>
   <td>Reading and/or writing is allowed.
</table>

<p>
When the file is opened, if no <tt>CGNSLibraryVersion_t</tt> node is
found, a default value of 1.05 is assumed for the CGNS version number.
Note that this corresponds to an old version of the CGNS standard, that
doesn't include many data structures supported by the current standard.

<p>
The function <tt>cg_close</tt> must always be the last one called.
It closes the CGNS file designated by the index number <tt>fn</tt> and frees
the memory where the CGNS data was kept.
When a file is opened for writing, <tt>cg_close</tt> writes all the CGNS
data in memory onto disk prior to closing the file.
Consequently, if is omitted, the CGNS file is not written properly.

<p>
In order to reduce memory usage and improve execution speed,
large arrays such as grid coordinates or flow solutions are not actually
stored in memory.
Instead, only basic information about the node is kept,
while reads and writes of the data is directly to and from the
application's memory. An attempt is also made to do the same with
unstructured mesh element data.

<p>
When a CGNS file is newly created using <tt>CG_MODE_WRITE</tt>, the default
type of database manager used is determined at compile time. If the CGNS
library was built with HDF5 version 1.8 or later support, the file type
will be <tt>CG_FILE_HDF5</tt>, otherwise <tt>CG_FILE_ADF</tt> is used.
This may be changed either by setting an environment variable,
<tt>CGNS_FILETYPE</tt>, to one of <tt>adf</tt>, <tt>hdf5</tt>, or
<tt>adf2</tt>, or by calling the routine <tt>cg_set_file_type</tt>
prior to the <tt>cg_open</tt> call. Calling <tt>cg_set_file_type</tt>
with the argument <tt>CG_FILE_NONE</tt> will reset the library to
use the default file type. <b>Note:</b> If the environment variable
<tt>CGNS_FILETYPE</tt> is set, it takes precedence.

<p>
For existing files, the function <tt>cg_is_cgns</tt> may be used to
determine if a file is a CGNS file or not, and the type of file
(<tt>CG_FILE_ADF</tt> or <tt>CG_FILE_HDF5</tt>). If the file is a CGNS file,
<tt>cg_is_cgns</tt> returns <tt>CG_OK</tt>, otherwise <tt>CG_ERROR</tt>
is returned and <tt>file_type</tt> is set to <tt>CG_FILE_NONE</tt>.

<p>
The CGNS file identified by <tt>fn</tt> may be saved to a different filename
and type using <tt>cg_save_as</tt>. In order to save as an HDF5 file,
the library must have been built with HDF5 support. ADF support is always
built. The
function <tt>cg_set_file_type</tt> sets the default file type for
newly created CGNS files. The function
<tt>cg_get_file_type</tt> returns the file type for the CGNS file
identified by <tt>fn</tt>. If the CGNS library is built as 32-bit,
the additional file type, <tt>CG_FILE_ADF2</tt>, is available.
This allows creation of a 2.5 compatible CGNS file.

<a name="configure"></a>
<h3>Configuring CGNS Internals</h3>

<table width=100% cellspacing=0 cellpadding=5 border rules=groups
       bgcolor="#f5f5f0">
<colgroup width=90%>
<colgroup>
<thead>
<tr><th align=left scope=col width=90%>Functions
    <th scope=col>Modes
<tbody>
<tr><td nowrap>
        <tt><b><span class=out><i>ier</i></span> = cg_configure(<span class=in>int option</span>, <span class=in>void *value</span>);</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tr><td nowrap>
        <tt><b><span class=out><i>ier</i></span> = cg_error_handler(<span class=in>void (*)(int, char *)</span>);</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tr><td nowrap>
        <tt><b><span class=out><i>ier</i></span> = cg_set_compress(<span class=in>int compress</span>);</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tr><td nowrap>
        <tt><b><span class=out><i>ier</i></span> = cg_get_compress(<span class=out><i>int *compress</i></span>);</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tr><td nowrap>
        <tt><b><span class=out><i>ier</i></span> = cg_set_path(<span class=in>const char *path</span>);</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tr><td nowrap>
        <tt><b><span class=out><i>ier</i></span> = cg_add_path(<span class=in>const char *path</span>);</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tbody>
<tr><td nowrap>
        <tt><b>call cg_configure_f(<span class=in>option</span>, <span class=in>value</span>, <span class=out><i>ier</i></span>);</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tr><td nowrap>
        <tt><b>call cg_exit_on_errors_f(<span class=in>flag</span>)</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tr><td nowrap>
        <tt><b>call cg_set_compress_f(<span class=in>compress</span>, <span class=out><i>ier</i></span>)</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tr><td nowrap>
        <tt><b>call cg_get_compress_f(<span class=out><i>compress</i></span>, <span class=out><i>ier</i></span>)</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tr><td nowrap>
        <tt><b>call cg_set_path_f(<span class=in>path</span>, <span class=out><i>ier</i></span>)</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tr><td nowrap>
        <tt><b>call cg_add_path_f(<span class=in>path</span>, <span class=out><i>ier</i></span>)</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
</table>

<br>
<b><span class=in>Input</span>/<span class=out><i>Output</i></span></b>

<br><br>
<table cellspacing=0 cellpadding=0 noborder>
<tr valign=baseline><td><tt>&nbsp;&nbsp;&nbsp;</tt>
   <td><tt>option</tt><td><tt>&nbsp;&nbsp;</tt>
   <td>The option to configure, currently one of
       <tt>CG_CONFIG_ERROR</tt>, <tt>CG_CONFIG_COMPRESS</tt>,
       <tt>CG_CONFIG_SET_PATH</tt>, <tt>CG_CONFIG_ADD_PATH</tt>,
       <tt>CG_CONFIG_FILE_TYPE</tt>, <tt>CG_CONFIG_RIND_INDEX</tt>,
       <tt>CG_CONFIG_HDF5_DISKLESS</tt>,
       <tt>CG_CONFIG_HDF5_DISKLESS_INCR</tt>,
       <tt>CG_CONFIG_HDF5_DISKLESS_WRITE</tt>,
       <tt>CG_CONFIG_HDF5_COMPRESS</tt>, or <tt>CG_CONFIG_HDF5_MPI_COMM</tt> as
       defined in <i>cgnslib.h</i>.
<tr valign=baseline><td>
   <td><tt>value</tt><td>
   <td>The value to set, type cast as <tt>void *</tt>. In Fortran the type is <tt>TYPE(C_PTR)</tt>.
<tr valign=baseline><td>
   <td><tt>compress</tt><td>
   <td>CGNS compress (rewrite) setting.
<tr valign=baseline><td>
   <td><tt>path</tt><td>
   <td>Pathname to search for linked to files when opening a
       file with external links.
<tr valign=baseline><td>
   <td><tt>flag</tt><td>
   <td>Fortran flag to set automatic exit in the case of error.
<tr valign=baseline><td>
   <td><tt>ier</tt><td>
   <td>Error status.
</table>

<p>
The function <tt>cg_configure</tt> allows particular CGNS library internal
options to be configured.
The currently supported options and expected values are:

<br><br>
<table cellspacing=0 cellpadding=0 noborder>
<tr valign=baseline><td><tt>&nbsp;&nbsp;&nbsp;</tt>
   <td><tt>CG_CONFIG_ERROR</tt><td><tt>&nbsp;&nbsp;</tt>
   <td>This allows an error call-back function to be defined by the
       user.
       The value should be a pointer to a function to receive the error.
       The function is defined as <tt>void err_callback(int is_error,
       char *errmsg)</tt>, and will be called for errors and warnings.
       The first argument, <tt>is_error</tt>, will be 0 for warning
       messages, 1 for error messages, and &minus;1 if the program is
       going to terminate (i.e., a call to <tt>cg_error_exit()</tt>).
       The second argument is the error or warning message.
       If this is defined, warning and error messages will go to the
       function rather than the terminal.
       A <tt>value</tt> of <tt>NULL</tt> will remove the call-back
       function.
<tr valign=baseline><td>&nbsp;
<tr valign=baseline><td>
   <td><tt>CG_CONFIG_COMPRESS</tt><td>
   <td>This is the rewrite-upon-close setting.
       <b>Note:</b> Prior versions of the library would automatically rewrite
       the CGNS file when it was closed after being opened in modify mode
       if there was unused space. This is no longer done due to possible
       conflicts when using parallel I/O. The previous behavior may be
       recovered by setting <tt>value</tt> to a positive integer. In this
       case, the file will be rewritten if the number of node deletions or
       modifications are equal to or exceed this number. Setting
       <tt>value</tt> to a negative number will force the rewrite
       when the file is closed. The default value is 0 (no rewrite).
<tr valign=baseline><td>&nbsp;
<tr valign=baseline><td>
   <td><tt>CG_CONFIG_SET_PATH</tt><td>
   <td>Sets the search path for locating linked-to files.
       The argument <tt>value</tt> should be a character string
       containing one or more directories, formatted the same as for the
       <tt>PATH</tt> environment variable.
       This will replace any current settings.
       Setting <tt>value</tt> to <tt>NULL</tt> will remove all paths. In Fortran,
       the path must terminate with a NULL character, CHAR(0) or C_NULL_CHAR. 
<tr valign=baseline><td>&nbsp;
<tr valign=baseline><td>
   <td><tt>CG_CONFIG_ADD_PATH</tt><td>
   <td>Adds a directory, or list of directories, to the linked-to file
       search path.
       This is the same as <tt>CG_CONFIG_SET_PATH</tt>, but adds to the
       path instead of replacing it. In Fortran,
       the path must terminate with a NULL character, CHAR(0) or C_NULL_CHAR.
<tr valign=baseline><td>&nbsp;
<tr valign=baseline><td>
   <td><tt>CG_CONFIG_FILE_TYPE</tt><td>
   <td>Sets the default file type for newly created CGNS files.
       The argument, <tt>value</tt> should be set to one of
       <tt>CG_FILE_NONE</tt>, <tt>CG_FILE_ADF</tt>, <tt>CG_FILE_HDF5</tt>,
       or <tt>CG_FILE_ADF2</tt>. See the discussion above for
       <tt>cg_set_file_type</tt>.
<tr valign=baseline><td>&nbsp;
<tr valign=baseline><td>
   <td><tt>CG_CONFIG_RIND_INDEX</tt><td>
  <td>This option affects index bounds on structured arrays with rind planes.
      The <a href=../SIDS/grid.html#grid-coordinates-structure-definition-gridcoordinates-t>SIDS specifies</a> that
      core array locations begin at index 1.  Lower rind planes, if present,
      would have an index less than 1 (see
      <a href=../SIDS/convention.html#structured-grid-notation-and-indexing-conventions> structured grid indexing
      conventions</a>).  Versions of
      the Mid-Level Library &lt 3.4 did not produce this behavior.  Index 1
      always represented the start of an array: in an array with no rind
      planes, the core location would have index 1; in an array with 1 rind
      plane, the core location would have index 2.  In version 3.4 of the
      Mid-Level Library, the API's behavior was fixed to match that
      specified in the SIDS: core array locations always begin at index 1.
      This option allows for configuring the library to pre-3.4 indexing
      behavior (set value to <tt>CG_CONFIG_RIND_ZERO</tt>) or the new default
      behavior (set value to <tt>CG_CONFIG_RIND_CORE</tt>).  Note that using
      <tt>CG_CONFIG_RIND_ZERO</tt> is considered obsolete, but is provided for
      backward compatibility.  Most users should not select this option and use
      the default.  Values used for this option do not need to be explicitly
      cast as <tt>void*</tt>.  This option does not change the cgns file
      in any way; it only modifies the API to the library.
<tr valign=baseline><td>&nbsp;
<tr valign=baseline><td>
   <td><tt>CG_CONFIG_HDF5_COMPRESS</tt><td>
   <td>Sets the compression level for data written from HDF5. The default is
       no compression. Setting <tt>value</tt> to -1 will use the default
       compression level of 6. The acceptable values are 0 to 9, corresponding
       to gzip compression levels. <b>This option currently does nothing as compression is not yet implemented</b>.
<tr valign=baseline><td>&nbsp;
<tr valign=baseline><td>
   <td><tt>CG_CONFIG_HDF5_MPI_COMM</tt><td>
   <td>Sets the MPI communicator for parallel I/O. The default is
       <tt>MPI_COMM_WORLD</tt>. The new communicator is given by
       typecasting it to a <tt>void *</tt>. This is generally used
       internally - see <a href="../pcgns/library.html#misc">cgp_mpi_comm</a>
       instead.
<tr valign=baseline><td>&nbsp;
<tr valign=baseline><td>
   <td><tt>CG_CONFIG_HDF5_DISKLESS</tt><td>
   <td>Performs I/O directly to memory and can be used to create temporary CGNS files that never exist on permanent storage.
       The memory is written to disk depending on the state of <tt>CG_CONFIG_HDF5_DISKLESS_WRITE</tt>. CGNS will use the
       <em>core</em> file driver in HDF5 via <em>H5Pset_fapl_core</em>, and the parameters associated with
       <em>CG_CONFIG_HDF5_DISKLESS</em> are associated with that API. When <tt>value</tt> is 1, any previously defined driver mode is ignored.
       Setting <tt>value</tt> to 0 disables the diskless mode, enabling the previous mode. This configuration is
       not a valid option when accessing the memory by more than one process.
<tr valign=baseline><td>&nbsp;
<tr valign=baseline><td>
   <td><tt>CG_CONFIG_HDF5_DISKLESS_INCR</tt><td>
   <td><tt>Value</tt> specifies the increment by which allocated memory is to be increased each time more memory is required, in bytes.
       The default is 10MiB. Ideally, <tt>value</tt> should be set large enough to minimize repeated increases. The type of <tt>value</tt> is <em>size_t</em> in C and <em>C_SIZE_T</em> in Fortran. Due to a bug with gfortran, it is advisable to use <em>C_LOC</em> or <em>C_FUNLOC</em> in-line of the call instead of using a variable.
<tr valign=baseline><td>&nbsp;
<tr valign=baseline><td>
   <td><tt>CG_CONFIG_HDF5_DISKLESS_WRITE</tt><td>
   <td><tt>Value</tt> indicates whether to write (<tt>value=1</tt>) the memory contents to disk when the file is closed. Otherwise, <tt>value=0</tt> does not persist the memory to disk.
</table>

<p>
The routines <tt>cg_error_handler</tt>, <tt>cg_set_compress</tt>,
<tt>cg_set_path</tt>, <tt>cg_add_path</tt>, and <tt>cg_set_file_type</tt>
are convenience functions built on top of <tt>cg_configure</tt>.

<p>
There is no Fortran counterpart for function
<tt>cg_error_handler</tt>. The Fortran function <tt>cg_exit_on_error_f</tt>
routine can be used in place of <tt>cg_error_handler</tt>. If <tt>flag</tt>
is non-zero, then when an error is encountered, the library will print
the error message and exit with a code of 1. Setting <tt>flag</tt> to
zero (the default) prevents this, and the error is returned to the user
code.

<p>
<i>Note:</i> The HDF5 implementation does not support search paths
for linked files. The links need to be either absolute or relative
pathnames. As a result, it is recommended that the search path
options not be used as they may be removed in future versions.

<a name="cgiointer"></a>
<h3>Interfacing with CGIO</h3>

<table width=100% cellspacing=0 cellpadding=5 border rules=groups
       bgcolor="#f5f5f0">
<colgroup width=90%>
<colgroup>
<thead>
<tr><th align=left scope=col width=90%>Functions
    <th scope=col>Modes
<tbody>
<tr><td nowrap>
        <tt><b><span class=out><i>ier</i></span> = cg_get_cgio(<span class=in>int fn</span>, <span class=out><i>int *cgio_num</i></span>);</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tr><td nowrap>
        <tt><b><span class=out><i>ier</i></span> = cg_root_id(<span class=in>int fn</span>, <span class=out><i>double *rootid</i></span>);</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tbody>
<tr><td nowrap>
        <tt><b>call cg_get_cgio_f(<span class=in>fn</span>, <span class=out><i>cgio_num</i></span>, <span class=out><i>ier</i></span>)</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
<tr><td nowrap>
        <tt><b>call cg_root_id_f(<span class=in>fn</span>, <span class=out><i>rootid</i></span>, <span class=out><i>ier</i></span>)</b></tt>
    <td align=center valign=baseline>
        <tt><b>r&nbsp;w&nbsp;m</b></tt>
</table>

<br>
<b><span class=in>Input</span>/<span class=out><i>Output</i></span></b>

<br><br>
<table cellspacing=0 cellpadding=0 noborder>
<tr valign=baseline><td><tt>&nbsp;&nbsp;&nbsp;</tt>
   <td><tt>fn</tt><td><tt>&nbsp;&nbsp;</tt>
   <td>CGNS file index number.
<tr valign=baseline><td>
   <td><tt>cgio_num</tt><td>
   <td>CGIO indentifier for the CGNS file.
<tr valign=baseline><td>
   <td><tt>rootid</tt><td>
   <td>Root node identifier for the CGNS file.
<tr valign=baseline><td>
   <td><tt>ier</tt><td>
   <td>Error status.
</table>

<p>
These allow for the use of the <a href="../CGNS_CGIO.html">low-level
CGIO functions</a> in conjunction with the Mid Level Library.
The function <tt>cg_get_cgio</tt> returns the CGIO database identifier
for the specified CGNS file, which is used in the CGIO routines.
The root node identifier for the CGNS file
is returned by <tt>cg_root_id</tt>.

<p>

</html>
</div>


          </div>
            
  <div class="footer-relations">
    
      <div class="pull-left">
        <a class="btn btn-default" href="CGNS_MLL_general.html" title="previous chapter (use the left arrow)">General Remarks</a>
      </div>
    
      <div class="pull-right">
        <a class="btn btn-default" href="CGNS_MLL_navigating.html" title="next chapter (use the right arrow)">Navigating a CGNS File</a>
      </div>
    </div>
    <div class="clearer"></div>
  
        </div>
        <div class="clearfix"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="CGNS_MLL_navigating.html" title="Navigating a CGNS File"
             >next</a> |</li>
        <li class="right" >
          <a href="CGNS_MLL_general.html" title="General Remarks"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">CGNS Official Web Site</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../standard.html" >Standard Specification</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="CGNS_MLL.html" >CGNS/MLL - An API for C and Fortran applications</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">File Operations</a></li> 
      </ul>
    </div>
<script type="text/javascript">
  $("#mobile-toggle a").click(function () {
    $("#left-column").toggle();
  });
</script>
<script type="text/javascript" src="../../_static/js/bootstrap.js"></script>
  <div class="footer">
    &copy; Copyright 1991-2020, CGNS Steering Commmittee. Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>
  </body>
</html>